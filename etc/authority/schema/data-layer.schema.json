{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://canon.chitty.cc/schemas/data-layer.schema.json",
  "title": "ChittyOS Data Layer",
  "type": "object",
  "required": [
    "service_name",
    "entity_type",
    "status",
    "owners",
    "data_classification",
    "retention_policy"
  ],
  "properties": {
    "service_name": { "type": "string", "pattern": "^[a-z][a-z0-9]*$" },
    "entity_type": { "type": "string", "enum": ["DataLayer"] },
    "status": { "type": "string", "enum": ["Planned", "In Progress", "Needs Deployment", "Live", "Active", "Deprecated"] },
    "owners": { "type": "array", "items": { "type": "string" }, "minItems": 1 },
    "owner_entity": { "type": "string" },
    "data_classification": { "type": "string", "enum": ["Public", "Internal", "Confidential", "Restricted"] },
    "retention_policy": { "type": "string" },
    "jurisdiction": { "type": "string" },
    "sovereignty": { "type": "string" },
    "schema_topics": { "type": "array", "items": { "type": "string" } },
    "classification_status": { "type": "string", "enum": ["Final", "PendingDecision"] },
    "aliases": { "type": "array", "items": { "type": "string" } },
    "related_layers": { "type": "array", "items": { "type": "string" } }
  },
  "additionalProperties": false
}

